; =============================================================
; PlatformIO Configuration — IOT Forest Cam (CS Group 19)
; Target: LilyGo T-Beam S3 Supreme (Arduino Framework)
; =============================================================

[env:esp32s3]
platform = espressif32
board = esp32-s3-devkitc-1           ; Generic S3 (T-Beam S3 Supreme not in registry)
framework = arduino

; --- T-Beam S3 Supreme Hardware Config ---
; Note: Detected 4MB flash - adjust if your board has 16MB
board_build.flash_size = 4MB
board_upload.flash_size = 4MB
board_build.flash_mode = dio
board_build.psram_type = opi

; --- Serial Monitor ---
monitor_speed = 115200

; --- Build Flags ---
build_flags =
    -DARDUINO_USB_CDC_ON_BOOT=1   ; Enable USB CDC for Serial output
    -DCORE_DEBUG_LEVEL=3           ; 0=None,1=Error,2=Warn,3=Info,4=Debug,5=Verbose
    ; LILYGO T3-S3 V1.2 SD Card pins
    -DVSENSOR_SD_CLK=14
    -DVSENSOR_SD_MISO=2
    -DVSENSOR_SD_MOSI=11
    -DVSENSOR_SD_CS=13

; --- Library Dependencies ---
; Part 1: SD Card (built-in with Arduino-ESP32)
; Part 2: LoRa control plane  (add later)
; Part 3: Mesh + CoAP          (add later)
lib_deps =
    adafruit/Adafruit SSD1306@^2.5.7
    adafruit/Adafruit GFX Library@^1.11.5
    ; RadioLib for LoRa (Part 2 – commented until needed)
    ; jgromes/RadioLib@^6.6.0
    ;
    ; ESP-Mesh-Lite (Part 3 – added via component, not PIO lib)
    ;
    ; CoAP library (Part 3 – evaluate later)
    ; hirotakaster/CoAP simple library@^1.3.28

; --- Partition Table ---
; Board has 4MB flash - use default partition
board_build.partitions = default.csv

; --- Upload ---
; upload_port = COM3  ; Uncomment if auto-detect fails
upload_speed = 921600
